<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>屏幕测试工具</title>
    <link rel="stylesheet" href="tester.css">
</head>
<body>
    <div id="guide-page" class="page">
        <div class="guide-content">
            <h1>屏幕测试工具</h1>
            <p class="subtitle">检测屏幕的色彩、清晰度和显示质量</p>
            <div class="button-group">
                <button id="start-btn" class="primary-btn">手动测试</button>
                <button id="auto-btn" class="secondary-btn">自动测试</button>
            </div>
            <div class="instructions">
                <h2>操作说明</h2>
                <ul>
                    <li>鼠标左键：切换下一个测试画面</li>
                    <li>Esc 键：退出测试</li>
                </ul>
            </div>
        </div>
    </div>
    <div id="test-page" class="page hidden">
        <div id="test-container" class="test-container"></div>
    </div>

    <!-- 这是一个简单的调查问卷弹窗 -->
    <div id="surveyModal" class="modal-hidden" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); color:white; z-index:9999; justify-content:center; align-items:center;">
        <div style="background:#222; padding:30px; border-radius:10px; max-width:500px; border:1px solid #444;">
            <h2 style="margin-top:0;">📋 屏幕检测反馈</h2>
            <p style="color:#aaa; font-size:14px;">请诚实勾选您刚才观察到的情况，AI 将为您生成质检报告。</p>
            
            <div style="margin:20px 0;">
                <label style="display:block; margin-bottom:10px;">
                    <input type="checkbox" id="chk-deadpixel"> 发现坏点/亮点 (Dead/Stuck Pixels)
                </label>
                
                <p style="margin-bottom:5px;">漏光情况 (Backlight Bleeding):</p>
                <select id="sel-bleeding" style="width:100%; padding:8px; background:#333; color:white; border:1px solid #555;">
                    <option value="none">完美，无漏光</option>
                    <option value="low">轻微漏光 (仅边角可见)</option>
                    <option value="high">严重漏光 (大面积发白)</option>
                </select>
            </div>

            <button id="generateReportBtn" style="width:100%; padding:10px; background:#4CAF50; color:white; border:none; border-radius:4px; cursor:pointer; font-weight:bold;">
                生成 AI 验机报告 🤖
            </button>
        </div>
    </div>

    <!-- 报告展示弹窗 -->
    <div id="reportModal" class="modal-hidden" style="position:fixed; top:0; left:0; width:100%; height:100%; background:#111; color:white; z-index:10000; overflow-y:auto; padding:20px;">
        <div style="max-width:600px; margin:0 auto; background:white; color:#333; padding:40px; border-radius:5px; box-shadow: 0 0 50px rgba(255,255,255,0.1);">
            <!-- 报告头部 -->
            <div style="text-align:center; border-bottom:2px solid #000; padding-bottom:20px; margin-bottom:20px;">
                <h1 style="margin:0;">屏幕质量检测报告</h1>
                <p style="color:#666; margin:5px 0;">SCREEN QUALITY ASSESSMENT REPORT</p>
            </div>

            <!-- 评分大圆圈 -->
            <div id="reportScore" style="text-align:center; font-size:60px; font-weight:bold; color:#222; margin:20px 0;">
                --
            </div>

            <!-- 报告正文 -->
            <div id="reportContent" style="font-family:'Courier New', monospace; line-height:1.6; white-space: pre-wrap;">
                正在分析数据...
            </div>

            <!-- 底部 -->
            <div style="margin-top:40px; text-align:center; font-size:12px; color:#888; border-top:1px solid #eee; padding-top:20px;">
                Generated by Pseudo-AI Engine | Screen Tester Pro<br>
                <button id="reloadBtn" style="margin-top:20px; padding:8px 20px;">关闭并重新测试</button>
            </div>
        </div>
    </div>

    <script src="report-generator.js"></script>
    <script src="tester.js"></script>
</body>
</html>
